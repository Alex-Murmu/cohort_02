<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            display: flex;
            height: 100vh;
            width: 100vw;
            margin:0;
            padding:0;
            justify-content: center;
            align-items: center;
            background-color: rgb(47, 44, 44);
        }
        #main{
            display: flex;
            justify-content: center;
            align-items: center;
            background:rgba(0, 0, 0, 0.738);
            height:550px; 
            width:600px; 
            border-radius: 23px;
            box-shadow: 5px 5px 23px 0px rgb(214, 50, 50);

        }
    </style>
</head>
<body>
 <div id="main">
    <button id="btn" onclick="getData()">GetData</button>
 </div>
 <script>
  const getData = () => { 
//     let dataf;

//     fetch("http://localhost:2000/backend-users") // No 'no-cors' mode
//         .then(response => response.json())
//         .then(finalData => {
//            return finalData;
//         })
//         .catch(error => {
//             console.error("Error fetching data:", error);
//         }).finally((data) => {
//            dataf = data;
//   })
    
//   return dataf;

fetch("http://localhost:2000/backend-users", {
    method: 'GET',
    headers: {
        'Accept': 'application/json',
    }
})
    .then(response => {
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
    })
    .then(persons => {
        const main = document.getElementById('main');
        main.innerHTML = ''; // Clear existing content
        
        if (!persons || persons.length === 0) {
            main.innerHTML = '<p style="color: white">No data available</p>';
            return;
        }
        
        persons.forEach(person => {
            const personDiv = document.createElement('div');
            personDiv.style.color = 'white';
            personDiv.style.margin = '10px';
            personDiv.style.padding = '10px';
            personDiv.style.border = '1px solid red';
            
            personDiv.innerHTML = `
                <h3>Name: ${person.name}</h3>
                <p>Age: ${person.age}</p>
                <p>Email: ${person.email}</p>
            `;
            
            main.appendChild(personDiv);
        });
    })
    .catch(error => {
        const main = document.getElementById('main');
        main.innerHTML = `<p style="color: red">Error loading data: ${error.message}</p>`;
    });
        
};

 </script>
</body>
</html>
|